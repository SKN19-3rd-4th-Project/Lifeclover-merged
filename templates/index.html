{% extends "base.html" %}
{% load static %}

{% block title %}Lifeclover - 당신의 클로버가 되어 드릴게요{% endblock %}

{% block content %}
<header class="header">
  <div class="container">
    <div class="header-content">
      <div class="logo" data-target-page="home">
        <img src="{% static 'img/logo.png' %}" alt="Lifeclover" class="logo-image">
        <span class="logo-text">Lifeclover</span>
      </div>

      <nav class="nav" aria-label="주요 메뉴">
        <button type="button" class="nav-item" data-target-page="services">알려줘요</button>
        <button type="button" class="nav-item" data-target-page="chat">대화해요</button>
        <button type="button" class="nav-item" data-target-page="diary">다이어리</button>
        <span class="nav-indicator" aria-hidden="true"></span>
      </nav>

      <div class="header-actions" data-auth></div>
    </div>
  </div>
</header>

<main>
  <section class="hero page-section active" data-page="home">
    <div class="hero-container">
      <div class="hero-text-section">
        <h1 class="hero-title">
          당신만의<br>
          클로버가 되어드릴게요
        </h1>
        <div class="hero-cta">
          <button type="button" class="cta-button primary" data-target-page="services">지금 시작하기</button>
        </div>
      </div>

      <div class="hero-image-section">
        <img src="{% static 'img/lify.png' %}" alt="Lifeclover 캐릭터" class="clover-image">
      </div>
    </div>

    <div class="hero-input-section">
      <input type="text" class="hero-input" placeholder="오늘의 일을 나누고 싶으신가요?">
    </div>
  </section>

  <section class="services page-section" data-page="services" hidden>
    <div class="container">
      <div class="services-grid" data-services-grid>
        <article class="service-card">
          <div class="service-icon">🏛️</div>
          <h3 class="service-title">장례 시설 안내</h3>
          <p class="service-description">장례식장/봉안당/화장시설/묘지/자연장지 등의<br>장례 시설 정보를 제공합니다.</p>
        </article>
        <article class="service-card">
          <div class="service-icon">🤝</div>
          <h3 class="service-title">지원 정책</h3>
          <p class="service-description">공영장례, 화장 장려금 등의 정보를 제공합니다.</p>
        </article>
        <article class="service-card">
          <div class="service-icon">⚖️</div>
          <h3 class="service-title">유산 상속 안내</h3>
          <p class="service-description">유산 상속 절차 및 법률 정보를 제공합니다.</p>
        </article>
        <article class="service-card">
          <div class="service-icon">🔐</div>
          <h3 class="service-title">디지털 개인 정보</h3>
          <p class="service-description">디지털 계정 처리 방법에 대한 정보를 제공합니다.</p>
        </article>
      </div>

      <div class="chat-shell">
        <div class="chat-panel" data-chat-panel="services">
          <div class="chat-messages" data-chat-messages="services"></div>

          <div class="chat-input-container info-input">
            <div class="chat-input-top">
              <div class="quick-wrap">
                <button type="button" class="quick-toggle" data-quick-toggle>무엇이 궁금하세요?</button>
                <div class="quick-panel" data-quick-panel>
                  <button type="button" class="quick-item" data-quick-question="funeral_facilities">장례 시설 예시 질문 보기</button>
                  <button type="button" class="quick-item" data-quick-question="support_policy">지원 정책 예시 질문 보기</button>
                  <button type="button" class="quick-item" data-quick-question="inheritance">유산 상속 예시 질문 보기</button>
                  <button type="button" class="quick-item" data-quick-question="digital_info">디지털 정보 예시 질문 보기</button>
                </div>
              </div>
            </div>
            <div class="chat-input-body">
              <textarea
                class="chat-input"
                placeholder="무엇이 궁금하세요?... (Enter로 전송)"
                data-chat-input="services"
              ></textarea>
            </div>
            <div class="chat-actions">
              <button type="button" class="send-button modern" data-send-message="services">전송</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="signup page-section" data-page="signup" hidden>
    <div class="container signup-container">
      <div class="signup-progress">
        <div class="progress-label" data-progress-text>0% 완료</div>
        <div class="progress-track">
          <div class="progress-bar" data-progress-bar style="width:0%"></div>
        </div>
      </div>

      <form class="signup-form" data-signup-form>
        <div class="signup-grid">
          <div class="signup-field">
            <label for="signup-username">아이디</label>
            <input id="signup-username" name="signup_username" type="text" placeholder="아이디를 입력하세요" required>
          </div>
          <div class="signup-field">
            <label for="signup-password">비밀번호</label>
            <input id="signup-password" name="signup_password" type="password" placeholder="비밀번호를 입력하세요" required>
          </div>
        </div>

        <div class="signup-checklist" data-checklist>
          <p class="checklist-loading">체크리스트를 불러오는 중입니다...</p>
        </div>

        <div class="signup-actions">
          <button type="submit" class="send-button modern">가입 완료</button>
          <button type="button" class="button button-ghost" data-target-page="home">취소</button>
        </div>
      </form>
    </div>
  </section>

  <section class="chatbot page-section" data-page="chat" hidden>
    <div class="chat-shell">
      <div class="chat-panel" data-chat-panel="chat">
        <div class="chat-messages" data-chat-messages="chat"></div>

        <div class="chat-input-container">
          <div class="chat-input-top"></div>
          <div class="chat-input-body">
            <textarea
              class="chat-input"
              placeholder="무엇이든 물어보세요... (Enter로 전송)"
              data-chat-input="chat"
            ></textarea>
          </div>
          <div class="chat-actions">
            <button type="button" class="send-button modern" data-send-message="chat">전송</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="diary page-section" data-page="diary" hidden>
    <div class="container">
      <h1 class="diary-main-title">나의 다이어리</h1>
      <div class="calendar-layout">
        <div class="calendar-container">
          <div class="calendar-header">
            <button class="calendar-nav" data-change-month="-1">◀</button>
            <div class="calendar-title" data-month-title></div>
            <button class="calendar-nav" data-change-month="1">▶</button>
          </div>
          <div class="calendar-grid" data-calendar-grid></div>
        </div>

        <div class="diary-detail" data-diary-detail></div>
      </div>
    </div>
  </section>

  <!-- 로그인 모달 -->
  <div class="modal-overlay" data-login-modal hidden>
    <div class="modal-card">
      <button class="modal-close" type="button" data-login-close aria-label="닫기">&times;</button>
      <div class="modal-title">로그인</div>
      <div class="modal-desc">ID를 입력해주세요.</div>
      <form class="modal-form" data-login-form>
        <div class="modal-field">
          <label class="sr-only" for="login-username">아이디</label>
          <input id="login-username" name="username" type="text" placeholder="ID를 입력하세요." required>
        </div>
        <div class="modal-field">
          <label class="sr-only" for="login-password">비밀번호</label>
          <input id="login-password" name="password" type="password" placeholder="PWD를 입력하세요." required>
        </div>
        <div class="modal-actions">
          <button type="submit" class="modal-btn primary">로그인</button>
          <button type="button" class="modal-btn ghost" data-login-cancel>취소</button>
        </div>
      </form>
    </div>
  </div>

  <!-- 탈퇴 모달 -->
  <div class="modal-overlay" data-delete-modal hidden>
    <div class="modal-card">
      <button class="modal-close" type="button" data-delete-close aria-label="닫기">&times;</button>
      <div class="modal-title">회원 탈퇴</div>
      <div class="modal-desc" data-delete-text>탈퇴하시겠습니까?</div>
      <div class="modal-actions">
        <button type="button" class="modal-btn primary" data-delete-confirm>탈퇴하기</button>
        <button type="button" class="modal-btn ghost" data-delete-cancel>취소</button>
      </div>
    </div>
  </div>
</main>
{% endblock %}
